!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Kagome=n():e.Kagome=n()}(this,(function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="./src/index.ts")}({"./node_modules/error-stack-parser/error-stack-parser.js":function(e,n,t){var r,o,i;!function(s,u){"use strict";o=[t("./node_modules/stackframe/stackframe.js")],void 0===(i="function"==typeof(r=function(e){var n=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(t))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)}),this).map((function(n){n.indexOf("(eval ")>-1&&(n=n.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=n.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:o.pop()),s=o.join(" ")||void 0,u=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:s,fileName:u,lineNumber:i[1],columnNumber:i[2],source:n})}),this)},parseFFOrSafari:function(n){return n.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(n){if(n.indexOf(" > eval")>-1&&(n=n.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===n.indexOf("@")&&-1===n.indexOf(":"))return new e({functionName:n});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=n.match(t),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(n.replace(t,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:n})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(n){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=n.message.split("\n"),o=[],i=2,s=r.length;i<s;i+=2){var u=t.exec(r[i]);u&&o.push(new e({fileName:u[2],lineNumber:u[1],source:r[i]}))}return o},parseOpera10:function(n){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=n.stacktrace.split("\n"),o=[],i=0,s=r.length;i<s;i+=2){var u=t.exec(r[i]);u&&o.push(new e({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:r[i]}))}return o},parseOpera11:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)&&!e.match(/^Error created at/)}),this).map((function(n){var t,r=n.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(t=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var u=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new e({functionName:s,args:u,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:n})}),this)}}})?r.apply(n,o):r)||(e.exports=i)}()},"./node_modules/stack-generator/stack-generator.js":function(e,n,t){var r,o,i;!function(s,u){"use strict";o=[t("./node_modules/stackframe/stackframe.js")],void 0===(i="function"==typeof(r=function(e){return{backtrace:function(n){var t=[],r=10;"object"==typeof n&&"number"==typeof n.maxStackSize&&(r=n.maxStackSize);for(var o=arguments.callee;o&&t.length<r&&o.arguments;){for(var i=new Array(o.arguments.length),s=0;s<i.length;++s)i[s]=o.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?t.push(new e({functionName:RegExp.$1||void 0,args:i})):t.push(new e({args:i}));try{o=o.caller}catch(e){break}}return t}}})?r.apply(n,o):r)||(e.exports=i)}()},"./node_modules/stackframe/stackframe.js":function(e,n,t){var r,o,i;!function(t,s){"use strict";o=[],void 0===(i="function"==typeof(r=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var t=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=t.concat(r,o,["args"]);function s(n){if(n)for(var t=0;t<i.length;t++)void 0!==n[i[t]]&&this["set"+e(i[t])](n[i[t]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFileName()||"",n=this.getLineNumber()||"",t=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+n+":"+t+")":"[eval]:"+n+":"+t:r?r+" ("+e+":"+n+":"+t+")":e+":"+n+":"+t}},s.fromString=function(e){var n=e.indexOf("("),t=e.lastIndexOf(")"),r=e.substring(0,n),o=e.substring(n+1,t).split(","),i=e.substring(t+1);if(0===i.indexOf("@"))var u=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),a=u[1],c=u[2],l=u[3];return new s({functionName:r,args:o||void 0,fileName:a,lineNumber:c||void 0,columnNumber:l||void 0})};for(var u=0;u<t.length;u++)s.prototype["get"+e(t[u])]=n(t[u]),s.prototype["set"+e(t[u])]=function(e){return function(n){this[e]=Boolean(n)}}(t[u]);for(var a=0;a<r.length;a++)s.prototype["get"+e(r[a])]=n(r[a]),s.prototype["set"+e(r[a])]=function(e){return function(n){if(t=n,isNaN(parseFloat(t))||!isFinite(t))throw new TypeError(e+" must be a Number");var t;this[e]=Number(n)}}(r[a]);for(var c=0;c<o.length;c++)s.prototype["get"+e(o[c])]=n(o[c]),s.prototype["set"+e(o[c])]=function(e){return function(n){this[e]=String(n)}}(o[c]);return s})?r.apply(n,o):r)||(e.exports=i)}()},"./node_modules/stacktrace-gps/node_modules/source-map/lib/array-set.js":function(e,n,t){var r=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js"),o=Object.prototype.hasOwnProperty;function i(){this._array=[],this._set=Object.create(null)}i.fromArray=function(e,n){for(var t=new i,r=0,o=e.length;r<o;r++)t.add(e[r],n);return t},i.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,n){var t=r.toSetString(e),i=o.call(this._set,t),s=this._array.length;i&&!n||this._array.push(e),i||(this._set[t]=s)},i.prototype.has=function(e){var n=r.toSetString(e);return o.call(this._set,n)},i.prototype.indexOf=function(e){var n=r.toSetString(e);if(o.call(this._set,n))return this._set[n];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},n.ArraySet=i},"./node_modules/stacktrace-gps/node_modules/source-map/lib/base64-vlq.js":function(e,n,t){var r=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/base64.js");n.encode=function(e){var n,t="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{n=31&o,(o>>>=5)>0&&(n|=32),t+=r.encode(n)}while(o>0);return t},n.decode=function(e,n,t){var o,i,s,u,a=e.length,c=0,l=0;do{if(n>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=r.decode(e.charCodeAt(n++))))throw new Error("Invalid base64 digit: "+e.charAt(n-1));o=!!(32&i),c+=(i&=31)<<l,l+=5}while(o);t.value=(u=(s=c)>>1,1==(1&s)?-u:u),t.rest=n}},"./node_modules/stacktrace-gps/node_modules/source-map/lib/base64.js":function(e,n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},"./node_modules/stacktrace-gps/node_modules/source-map/lib/binary-search.js":function(e,n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,r,o){if(0===t.length)return-1;var i=function e(t,r,o,i,s,u){var a=Math.floor((r-t)/2)+t,c=s(o,i[a],!0);return 0===c?a:c>0?r-a>1?e(a,r,o,i,s,u):u==n.LEAST_UPPER_BOUND?r<i.length?r:-1:a:a-t>1?e(t,a,o,i,s,u):u==n.LEAST_UPPER_BOUND?a:t<0?-1:t}(-1,t.length,e,t,r,o||n.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(t[i],t[i-1],!0);)--i;return i}},"./node_modules/stacktrace-gps/node_modules/source-map/lib/mapping-list.js":function(e,n,t){var r=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js");function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,n){this._array.forEach(e,n)},o.prototype.add=function(e){var n,t,o,i,s,u;n=this._last,t=e,o=n.generatedLine,i=t.generatedLine,s=n.generatedColumn,u=t.generatedColumn,i>o||i==o&&u>=s||r.compareByGeneratedPositionsInflated(n,t)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},n.MappingList=o},"./node_modules/stacktrace-gps/node_modules/source-map/lib/quick-sort.js":function(e,n){function t(e,n,t){var r=e[n];e[n]=e[t],e[t]=r}function r(e,n,o,i){if(o<i){var s=o-1;t(e,(l=o,p=i,Math.round(l+Math.random()*(p-l))),i);for(var u=e[i],a=o;a<i;a++)n(e[a],u)<=0&&t(e,s+=1,a);t(e,s+1,a);var c=s+1;r(e,n,o,c-1),r(e,n,c+1,i)}var l,p}n.quickSort=function(e,n){r(e,n,0,e.length-1)}},"./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-consumer.js":function(e,n,t){var r=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js"),o=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/binary-search.js"),i=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/array-set.js").ArraySet,s=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/base64-vlq.js"),u=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/quick-sort.js").quickSort;function a(e){var n=e;return"string"==typeof e&&(n=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=n.sections?new p(n):new c(n)}function c(e){var n=e;"string"==typeof e&&(n=JSON.parse(e.replace(/^\)\]\}'/,"")));var t=r.getArg(n,"version"),o=r.getArg(n,"sources"),s=r.getArg(n,"names",[]),u=r.getArg(n,"sourceRoot",null),a=r.getArg(n,"sourcesContent",null),c=r.getArg(n,"mappings"),l=r.getArg(n,"file",null);if(t!=this._version)throw new Error("Unsupported version: "+t);o=o.map(String).map(r.normalize).map((function(e){return u&&r.isAbsolute(u)&&r.isAbsolute(e)?r.relative(u,e):e})),this._names=i.fromArray(s.map(String),!0),this._sources=i.fromArray(o,!0),this.sourceRoot=u,this.sourcesContent=a,this._mappings=c,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function p(e){var n=e;"string"==typeof e&&(n=JSON.parse(e.replace(/^\)\]\}'/,"")));var t=r.getArg(n,"version"),o=r.getArg(n,"sections");if(t!=this._version)throw new Error("Unsupported version: "+t);this._sources=new i,this._names=new i;var s={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=r.getArg(e,"offset"),t=r.getArg(n,"line"),o=r.getArg(n,"column");if(t<s.line||t===s.line&&o<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=n,{generatedOffset:{generatedLine:t+1,generatedColumn:o+1},consumer:new a(r.getArg(e,"map"))}}))}a.fromSourceMap=function(e){return c.fromSourceMap(e)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(e,n){var t=e.charAt(n);return";"===t||","===t},a.prototype._parseMappings=function(e,n){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(e,n,t){var o,i=n||null;switch(t||a.GENERATED_ORDER){case a.GENERATED_ORDER:o=this._generatedMappings;break;case a.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;o.map((function(e){var n=null===e.source?null:this._sources.at(e.source);return null!=n&&null!=s&&(n=r.join(s,n)),{source:n,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},a.prototype.allGeneratedPositionsFor=function(e){var n=r.getArg(e,"line"),t={source:r.getArg(e,"source"),originalLine:n,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(t.source=r.relative(this.sourceRoot,t.source)),!this._sources.has(t.source))return[];t.source=this._sources.indexOf(t.source);var i=[],s=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(s>=0){var u=this._originalMappings[s];if(void 0===e.column)for(var a=u.originalLine;u&&u.originalLine===a;)i.push({line:r.getArg(u,"generatedLine",null),column:r.getArg(u,"generatedColumn",null),lastColumn:r.getArg(u,"lastGeneratedColumn",null)}),u=this._originalMappings[++s];else for(var c=u.originalColumn;u&&u.originalLine===n&&u.originalColumn==c;)i.push({line:r.getArg(u,"generatedLine",null),column:r.getArg(u,"generatedColumn",null),lastColumn:r.getArg(u,"lastGeneratedColumn",null)}),u=this._originalMappings[++s]}return i},n.SourceMapConsumer=a,c.prototype=Object.create(a.prototype),c.prototype.consumer=a,c.fromSourceMap=function(e){var n=Object.create(c.prototype),t=n._names=i.fromArray(e._names.toArray(),!0),o=n._sources=i.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file;for(var s=e._mappings.toArray().slice(),a=n.__generatedMappings=[],p=n.__originalMappings=[],f=0,d=s.length;f<d;f++){var h=s[f],g=new l;g.generatedLine=h.generatedLine,g.generatedColumn=h.generatedColumn,h.source&&(g.source=o.indexOf(h.source),g.originalLine=h.originalLine,g.originalColumn=h.originalColumn,h.name&&(g.name=t.indexOf(h.name)),p.push(g)),a.push(g)}return u(n.__originalMappings,r.compareByOriginalPositions),n},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e}),this)}}),c.prototype._parseMappings=function(e,n){for(var t,o,i,a,c,p=1,f=0,d=0,h=0,g=0,m=0,v=e.length,y=0,_={},b={},S=[],w=[];y<v;)if(";"===e.charAt(y))p++,y++,f=0;else if(","===e.charAt(y))y++;else{for((t=new l).generatedLine=p,a=y;a<v&&!this._charIsMappingSeparator(e,a);a++);if(i=_[o=e.slice(y,a)])y+=o.length;else{for(i=[];y<a;)s.decode(e,y,b),c=b.value,y=b.rest,i.push(c);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");_[o]=i}t.generatedColumn=f+i[0],f=t.generatedColumn,i.length>1&&(t.source=g+i[1],g+=i[1],t.originalLine=d+i[2],d=t.originalLine,t.originalLine+=1,t.originalColumn=h+i[3],h=t.originalColumn,i.length>4&&(t.name=m+i[4],m+=i[4])),w.push(t),"number"==typeof t.originalLine&&S.push(t)}u(w,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,u(S,r.compareByOriginalPositions),this.__originalMappings=S},c.prototype._findMapping=function(e,n,t,r,i,s){if(e[t]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[t]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,n,i,s)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var t=this._generatedMappings[e+1];if(n.generatedLine===t.generatedLine){n.lastGeneratedColumn=t.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var n={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},t=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(t>=0){var o=this._generatedMappings[t];if(o.generatedLine===n.generatedLine){var i=r.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=r.join(this.sourceRoot,i)));var s=r.getArg(o,"name",null);return null!==s&&(s=this._names.at(s)),{source:i,line:r.getArg(o,"originalLine",null),column:r.getArg(o,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},c.prototype.sourceContentFor=function(e,n){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(null!=this.sourceRoot&&(t=r.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var n=r.getArg(e,"source");if(null!=this.sourceRoot&&(n=r.relative(this.sourceRoot,n)),!this._sources.has(n))return{line:null,column:null,lastColumn:null};var t={source:n=this._sources.indexOf(n),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},o=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===t.source)return{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null),lastColumn:r.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=c,p.prototype=Object.create(a.prototype),p.prototype.constructor=a,p.prototype._version=3,Object.defineProperty(p.prototype,"sources",{get:function(){for(var e=[],n=0;n<this._sections.length;n++)for(var t=0;t<this._sections[n].consumer.sources.length;t++)e.push(this._sections[n].consumer.sources[t]);return e}}),p.prototype.originalPositionFor=function(e){var n={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},t=o.search(n,this._sections,(function(e,n){var t=e.generatedLine-n.generatedOffset.generatedLine;return t||e.generatedColumn-n.generatedOffset.generatedColumn})),i=this._sections[t];return i?i.consumer.originalPositionFor({line:n.generatedLine-(i.generatedOffset.generatedLine-1),column:n.generatedColumn-(i.generatedOffset.generatedLine===n.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},p.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},p.prototype.sourceContentFor=function(e,n){for(var t=0;t<this._sections.length;t++){var r=this._sections[t].consumer.sourceContentFor(e,!0);if(r)return r}if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')},p.prototype.generatedPositionFor=function(e){for(var n=0;n<this._sections.length;n++){var t=this._sections[n];if(-1!==t.consumer.sources.indexOf(r.getArg(e,"source"))){var o=t.consumer.generatedPositionFor(e);if(o)return{line:o.line+(t.generatedOffset.generatedLine-1),column:o.column+(t.generatedOffset.generatedLine===o.line?t.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},p.prototype._parseMappings=function(e,n){this.__generatedMappings=[],this.__originalMappings=[];for(var t=0;t<this._sections.length;t++)for(var o=this._sections[t],i=o.consumer._generatedMappings,s=0;s<i.length;s++){var a=i[s],c=o.consumer._sources.at(a.source);null!==o.consumer.sourceRoot&&(c=r.join(o.consumer.sourceRoot,c)),this._sources.add(c),c=this._sources.indexOf(c);var l=o.consumer._names.at(a.name);this._names.add(l),l=this._names.indexOf(l);var p={source:c,generatedLine:a.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(o.generatedOffset.generatedLine===a.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(p),"number"==typeof p.originalLine&&this.__originalMappings.push(p)}u(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),u(this.__originalMappings,r.compareByOriginalPositions)},n.IndexedSourceMapConsumer=p},"./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-generator.js":function(e,n,t){var r=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/base64-vlq.js"),o=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js"),i=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/array-set.js").ArraySet,s=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/mapping-list.js").MappingList;function u(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}u.prototype._version=3,u.fromSourceMap=function(e){var n=e.sourceRoot,t=new u({file:e.file,sourceRoot:n});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=n&&(r.source=o.relative(n,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),t.addMapping(r)})),e.sources.forEach((function(n){var r=e.sourceContentFor(n);null!=r&&t.setSourceContent(n,r)})),t},u.prototype.addMapping=function(e){var n=o.getArg(e,"generated"),t=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,t,r,i),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:null!=t&&t.line,originalColumn:null!=t&&t.column,source:r,name:i})},u.prototype.setSourceContent=function(e,n){var t=e;null!=this._sourceRoot&&(t=o.relative(this._sourceRoot,t)),null!=n?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(t)]=n):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(t)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},u.prototype.applySourceMap=function(e,n,t){var r=n;if(null==n){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=o.relative(s,r));var u=new i,a=new i;this._mappings.unsortedForEach((function(n){if(n.source===r&&null!=n.originalLine){var i=e.originalPositionFor({line:n.originalLine,column:n.originalColumn});null!=i.source&&(n.source=i.source,null!=t&&(n.source=o.join(t,n.source)),null!=s&&(n.source=o.relative(s,n.source)),n.originalLine=i.line,n.originalColumn=i.column,null!=i.name&&(n.name=i.name))}var c=n.source;null==c||u.has(c)||u.add(c);var l=n.name;null==l||a.has(l)||a.add(l)}),this),this._sources=u,this._names=a,e.sources.forEach((function(n){var r=e.sourceContentFor(n);null!=r&&(null!=t&&(n=o.join(t,n)),null!=s&&(n=o.relative(s,n)),this.setSourceContent(n,r))}),this)},u.prototype._validateMapping=function(e,n,t,r){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||n||t||r)&&!(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&t))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:t,original:n,name:r}))},u.prototype._serializeMappings=function(){for(var e,n,t,i,s=0,u=1,a=0,c=0,l=0,p=0,f="",d=this._mappings.toArray(),h=0,g=d.length;h<g;h++){if(e="",(n=d[h]).generatedLine!==u)for(s=0;n.generatedLine!==u;)e+=";",u++;else if(h>0){if(!o.compareByGeneratedPositionsInflated(n,d[h-1]))continue;e+=","}e+=r.encode(n.generatedColumn-s),s=n.generatedColumn,null!=n.source&&(i=this._sources.indexOf(n.source),e+=r.encode(i-p),p=i,e+=r.encode(n.originalLine-1-c),c=n.originalLine-1,e+=r.encode(n.originalColumn-a),a=n.originalColumn,null!=n.name&&(t=this._names.indexOf(n.name),e+=r.encode(t-l),l=t)),f+=e}return f},u.prototype._generateSourcesContent=function(e,n){return e.map((function(e){if(!this._sourcesContents)return null;null!=n&&(e=o.relative(n,e));var t=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null}),this)},u.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},u.prototype.toString=function(){return JSON.stringify(this.toJSON())},n.SourceMapGenerator=u},"./node_modules/stacktrace-gps/node_modules/source-map/lib/source-node.js":function(e,n,t){var r=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-generator.js").SourceMapGenerator,o=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js"),i=/(\r?\n)/,s="$$$isSourceNode$$$";function u(e,n,t,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==n?null:n,this.source=null==t?null:t,this.name=null==o?null:o,this[s]=!0,null!=r&&this.add(r)}u.fromStringWithSourceMap=function(e,n,t){var r=new u,s=e.split(i),a=function(){return s.shift()+(s.shift()||"")},c=1,l=0,p=null;return n.eachMapping((function(e){if(null!==p){if(!(c<e.generatedLine)){var n=(t=s[0]).substr(0,e.generatedColumn-l);return s[0]=t.substr(e.generatedColumn-l),l=e.generatedColumn,f(p,n),void(p=e)}f(p,a()),c++,l=0}for(;c<e.generatedLine;)r.add(a()),c++;if(l<e.generatedColumn){var t=s[0];r.add(t.substr(0,e.generatedColumn)),s[0]=t.substr(e.generatedColumn),l=e.generatedColumn}p=e}),this),s.length>0&&(p&&f(p,a()),r.add(s.join(""))),n.sources.forEach((function(e){var i=n.sourceContentFor(e);null!=i&&(null!=t&&(e=o.join(t,e)),r.setSourceContent(e,i))})),r;function f(e,n){if(null===e||void 0===e.source)r.add(n);else{var i=t?o.join(t,e.source):e.source;r.add(new u(e.originalLine,e.originalColumn,i,n,e.name))}}},u.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},u.prototype.prepend=function(e){if(Array.isArray(e))for(var n=e.length-1;n>=0;n--)this.prepend(e[n]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},u.prototype.walk=function(e){for(var n,t=0,r=this.children.length;t<r;t++)(n=this.children[t])[s]?n.walk(e):""!==n&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})},u.prototype.join=function(e){var n,t,r=this.children.length;if(r>0){for(n=[],t=0;t<r-1;t++)n.push(this.children[t]),n.push(e);n.push(this.children[t]),this.children=n}return this},u.prototype.replaceRight=function(e,n){var t=this.children[this.children.length-1];return t[s]?t.replaceRight(e,n):"string"==typeof t?this.children[this.children.length-1]=t.replace(e,n):this.children.push("".replace(e,n)),this},u.prototype.setSourceContent=function(e,n){this.sourceContents[o.toSetString(e)]=n},u.prototype.walkSourceContents=function(e){for(var n=0,t=this.children.length;n<t;n++)this.children[n][s]&&this.children[n].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(n=0,t=r.length;n<t;n++)e(o.fromSetString(r[n]),this.sourceContents[r[n]])},u.prototype.toString=function(){var e="";return this.walk((function(n){e+=n})),e},u.prototype.toStringWithSourceMap=function(e){var n={code:"",line:1,column:0},t=new r(e),o=!1,i=null,s=null,u=null,a=null;return this.walk((function(e,r){n.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(i===r.source&&s===r.line&&u===r.column&&a===r.name||t.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:n.line,column:n.column},name:r.name}),i=r.source,s=r.line,u=r.column,a=r.name,o=!0):o&&(t.addMapping({generated:{line:n.line,column:n.column}}),i=null,o=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(n.line++,n.column=0,c+1===l?(i=null,o=!1):o&&t.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:n.line,column:n.column},name:r.name})):n.column++})),this.walkSourceContents((function(e,n){t.setSourceContent(e,n)})),{code:n.code,map:t}},n.SourceNode=u},"./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js":function(e,n){n.getArg=function(e,n,t){if(n in e)return e[n];if(3===arguments.length)return t;throw new Error('"'+n+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function o(e){var n=e.match(t);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function i(e){var n="";return e.scheme&&(n+=e.scheme+":"),n+="//",e.auth&&(n+=e.auth+"@"),e.host&&(n+=e.host),e.port&&(n+=":"+e.port),e.path&&(n+=e.path),n}function s(e){var t=e,r=o(e);if(r){if(!r.path)return e;t=r.path}for(var s,u=n.isAbsolute(t),a=t.split(/\/+/),c=0,l=a.length-1;l>=0;l--)"."===(s=a[l])?a.splice(l,1):".."===s?c++:c>0&&(""===s?(a.splice(l+1,c),c=0):(a.splice(l,2),c--));return""===(t=a.join("/"))&&(t=u?"/":"."),r?(r.path=t,i(r)):t}n.urlParse=o,n.urlGenerate=i,n.normalize=s,n.join=function(e,n){""===e&&(e="."),""===n&&(n=".");var t=o(n),u=o(e);if(u&&(e=u.path||"/"),t&&!t.scheme)return u&&(t.scheme=u.scheme),i(t);if(t||n.match(r))return n;if(u&&!u.host&&!u.path)return u.host=n,i(u);var a="/"===n.charAt(0)?n:s(e.replace(/\/+$/,"")+"/"+n);return u?(u.path=a,i(u)):a},n.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(t)},n.relative=function(e,n){""===e&&(e="."),e=e.replace(/\/$/,"");for(var t=0;0!==n.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return n;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return n;++t}return Array(t+1).join("../")+n.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function a(e){return e}function c(e){if(!e)return!1;var n=e.length;if(n<9)return!1;if(95!==e.charCodeAt(n-1)||95!==e.charCodeAt(n-2)||111!==e.charCodeAt(n-3)||116!==e.charCodeAt(n-4)||111!==e.charCodeAt(n-5)||114!==e.charCodeAt(n-6)||112!==e.charCodeAt(n-7)||95!==e.charCodeAt(n-8)||95!==e.charCodeAt(n-9))return!1;for(var t=n-10;t>=0;t--)if(36!==e.charCodeAt(t))return!1;return!0}function l(e,n){return e===n?0:e>n?1:-1}n.toSetString=u?a:function(e){return c(e)?"$"+e:e},n.fromSetString=u?a:function(e){return c(e)?e.slice(1):e},n.compareByOriginalPositions=function(e,n,t){var r=e.source-n.source;return 0!==r||0!==(r=e.originalLine-n.originalLine)||0!==(r=e.originalColumn-n.originalColumn)||t||0!==(r=e.generatedColumn-n.generatedColumn)||0!==(r=e.generatedLine-n.generatedLine)?r:e.name-n.name},n.compareByGeneratedPositionsDeflated=function(e,n,t){var r=e.generatedLine-n.generatedLine;return 0!==r||0!==(r=e.generatedColumn-n.generatedColumn)||t||0!==(r=e.source-n.source)||0!==(r=e.originalLine-n.originalLine)||0!==(r=e.originalColumn-n.originalColumn)?r:e.name-n.name},n.compareByGeneratedPositionsInflated=function(e,n){var t=e.generatedLine-n.generatedLine;return 0!==t||0!==(t=e.generatedColumn-n.generatedColumn)||0!==(t=l(e.source,n.source))||0!==(t=e.originalLine-n.originalLine)||0!==(t=e.originalColumn-n.originalColumn)?t:l(e.name,n.name)}},"./node_modules/stacktrace-gps/node_modules/source-map/source-map.js":function(e,n,t){n.SourceMapGenerator=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-generator.js").SourceMapGenerator,n.SourceMapConsumer=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-consumer.js").SourceMapConsumer,n.SourceNode=t("./node_modules/stacktrace-gps/node_modules/source-map/lib/source-node.js").SourceNode},"./node_modules/stacktrace-gps/stacktrace-gps.js":function(e,n,t){var r,o,i;!function(s,u){"use strict";o=[t("./node_modules/stacktrace-gps/node_modules/source-map/source-map.js"),t("./node_modules/stackframe/stackframe.js")],void 0===(i="function"==typeof(r=function(e,n){function t(e){return new Promise((function(n,t){var r=new XMLHttpRequest;r.open("get",e),r.onerror=t,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300||"file://"===e.substr(0,7)&&r.responseText?n(r.responseText):t(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()}))}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function o(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}return function i(s){if(!(this instanceof i))return new i(s);s=s||{},this.sourceCache=s.sourceCache||{},this.sourceMapConsumerCache=s.sourceMapConsumerCache||{},this.ajax=s.ajax||t,this._atob=s.atob||r,this._get=function(e){return new Promise(function(n,t){var r="data:"===e.substr(0,5);if(this.sourceCache[e])n(this.sourceCache[e]);else if(s.offline&&!r)t(new Error("Cannot make network requests in offline mode"));else if(r){var o=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(o){var i=o[0].length,u=e.substr(i),a=this._atob(u);this.sourceCache[e]=a,n(a)}else t(new Error("The encoding of the inline sourcemap is not supported"))}else{var c=this.ajax(e,{method:"get"});this.sourceCache[e]=c,c.then(n,t)}}.bind(this))},this._getSourceMapConsumer=function(n,t){return new Promise(function(r){if(this.sourceMapConsumerCache[n])r(this.sourceMapConsumerCache[n]);else{var o=new Promise(function(r,o){return this._get(n).then((function(n){"string"==typeof n&&(n=function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(n.replace(/^\)\]\}'/,""))),void 0===n.sourceRoot&&(n.sourceRoot=t),r(new e.SourceMapConsumer(n))}),o)}.bind(this));this.sourceMapConsumerCache[n]=o,r(o)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(n,t){this.getMappedLocation(e).then(function(e){function t(){n(e)}this.findFunctionName(e).then(n,t).catch(t)}.bind(this),t)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(t,r){o(e),this._get(e.fileName).then((function(r){var o=e.lineNumber,i=e.columnNumber,s=function(e,n){for(var t=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),o="",i=Math.min(n,20),s=0;s<i;++s){var u=r[n-s-1],a=u.indexOf("//");if(a>=0&&(u=u.substr(0,a)),u){o=u+o;for(var c=t.length,l=0;l<c;l++){var p=t[l].exec(o);if(p&&p[1])return p[1]}}}}(r,o);t(s?new n({functionName:s,args:e.args,fileName:e.fileName,lineNumber:o,columnNumber:i}):e)}),r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(t,r){!function(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}(),o(e);var i=this.sourceCache,s=e.fileName;this._get(s).then(function(r){var o=function(e){for(var n,t,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;t=r.exec(e);)n=t[1];if(n)return n;throw new Error("sourceMappingURL not found")}(r),u="data:"===o.substr(0,5),a=s.substring(0,s.lastIndexOf("/")+1);return"/"===o[0]||u||/^https?:\/\/|^\/\//i.test(o)||(o=a+o),this._getSourceMapConsumer(o,a).then((function(r){return function(e,t,r){return new Promise((function(o,i){var s=t.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(s.source){var u=t.sourceContentFor(s.source);u&&(r[s.source]=u),o(new n({functionName:s.name||e.functionName,args:e.args,fileName:s.source,lineNumber:s.line,columnNumber:s.column}))}else i(new Error("Could not get original source for given stackframe and source map"))}))}(e,r,i).then(t).catch((function(){t(e)}))}))}.bind(this),r).catch(r)}.bind(this))}}})?r.apply(n,o):r)||(e.exports=i)}()},"./node_modules/stacktrace-js/stacktrace.js":function(e,n,t){var r,o,i;!function(s,u){"use strict";o=[t("./node_modules/error-stack-parser/error-stack-parser.js"),t("./node_modules/stack-generator/stack-generator.js"),t("./node_modules/stacktrace-gps/stacktrace-gps.js")],void 0===(i="function"==typeof(r=function(e,n,t){var r={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},o=function(){try{throw new Error}catch(e){return e}};function i(e,n){var t={};return[e,n].forEach((function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t})),t}function s(e){return e.stack||e["opera#sourceloc"]}function u(e,n){return"function"==typeof n?e.filter(n):e}return{get:function(e){var n=o();return s(n)?this.fromError(n,e):this.generateArtificially(e)},getSync:function(t){t=i(r,t);var a=o();return u(s(a)?e.parse(a):n.backtrace(t),t.filter)},fromError:function(n,o){o=i(r,o);var s=new t(o);return new Promise(function(t){var r=u(e.parse(n),o.filter);t(Promise.all(r.map((function(e){return new Promise((function(n){function t(){n(e)}s.pinpoint(e).then(n,t).catch(t)}))}))))}.bind(this))},generateArtificially:function(e){e=i(r,e);var t=n.backtrace(e);return"function"==typeof e.filter&&(t=t.filter(e.filter)),Promise.resolve(t)},instrument:function(e,n,t,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var o=function(){try{return this.get().then(n,t).catch(t),e.apply(r||this,arguments)}catch(e){throw s(e)&&this.fromError(e).then(n,t).catch(t),e}}.bind(this);return o.__stacktraceOriginalFn=e,o},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,n,t,r){return new Promise((function(o,i){var s=new XMLHttpRequest;if(s.onerror=i,s.onreadystatechange=function(){4===s.readyState&&(s.status>=200&&s.status<400?o(s.responseText):i(new Error("POST to "+n+" failed with status: "+s.status)))},s.open("post",n),s.setRequestHeader("Content-Type","application/json"),r&&"object"==typeof r.headers){var u=r.headers;for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&s.setRequestHeader(a,u[a])}var c={stack:e};null!=t&&(c.message=t),s.send(JSON.stringify(c))}))}}})?r.apply(n,o):r)||(e.exports=i)}()},"./src/basic/debug.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"debugConfig",(function(){return u})),t.d(n,"registerHasRun",(function(){return l})),t.d(n,"ensureRun",(function(){return p}));var r=t("./node_modules/stacktrace-js/stacktrace.js"),o=t("./node_modules/stacktrace-gps/stacktrace-gps.js"),i=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,u)}a((r=r.apply(e,n||[])).next())}))},s=function(e,n){var t,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},u={debugProcessRun:!1,debugProcessControlFlow:!1},a=new WeakSet,c=new o;function l(e){a.add(e)}function p(e){var n=this;if(u.debugProcessRun){var t=r.getSync();i(n,void 0,void 0,(function(){var n,r,o;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve()];case 1:if(i.sent(),a.has(e))return[2];n=c.pinpoint.bind(c),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,Promise.all(t.map(n))];case 3:return r=i.sent(),console.warn("Created but not run: %o\n%o",e,r.map((function(e){return e.toString()})).join("\n")),[3,5];case 4:return o=i.sent(),console.error("Error while improving call stack\n",o),console.warn("Created but not run: %o\n",e,t.map((function(e){return e.toString()})).join("\n")),[3,5];case 5:return[2]}}))})).catch((function(e){return console.error(e)}))}return e}},"./src/basic/event.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"EventEmitter",(function(){return i})),t.d(n,"nullEvent",(function(){return s}));var r=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),s=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s},i=function(){function e(){var e=this;this.counter=0,this.listeners=new Map,this.event=function(n,t,r){var o=e.counter++;return e.listeners.set(o,{listener:n.bind(t),disposables:r}),{dispose:function(){var n;e.listeners.has(o)&&(null===(n=e.listeners.get(o).disposables)||void 0===n||n.forEach((function(e){return e.dispose})),e.listeners.delete(o))}}}}return e.prototype.fire=function(e){var n,t;try{for(var i=r(this.listeners),s=i.next();!s.done;s=i.next()){(0,o(s.value,2)[1].listener)(e)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}},e.prototype.dispose=function(){var e,n;try{for(var t=r(this.listeners),i=t.next();!i.done;i=t.next()){var s=o(i.value,2)[1].disposables;null==s||s.forEach((function(e){return e.dispose()}))}}catch(n){e={error:n}}finally{try{i&&!i.done&&(n=t.return)&&n.call(t)}finally{if(e)throw e.error}}this.listeners.clear()},e}();function s(){return function(){return{dispose:function(){}}}}},"./src/basic/index.ts":function(e,n,t){"use strict";t.r(n);var r=t("./src/basic/debug.ts");t.d(n,"debugConfig",(function(){return r.debugConfig})),t.d(n,"registerHasRun",(function(){return r.registerHasRun})),t.d(n,"ensureRun",(function(){return r.ensureRun}));var o=t("./src/basic/event.ts");t.d(n,"EventEmitter",(function(){return o.EventEmitter})),t.d(n,"nullEvent",(function(){return o.nullEvent}));var i=t("./src/basic/types.ts");t.d(n,"isSentinel",(function(){return i.isSentinel})),t.d(n,"SentinelExt",(function(){return i.SentinelExt})),t.d(n,"PureSentinel",(function(){return i.PureSentinel})),t.d(n,"pureS",(function(){return i.pureS})),t.d(n,"FuncSentinel",(function(){return i.FuncSentinel})),t.d(n,"SentinelFuncSentinel",(function(){return i.SentinelFuncSentinel}));var s=t("./src/basic/process.ts");t.d(n,"Process",(function(){return s.Process})),t.d(n,"process",(function(){return s.process})),t.d(n,"processAll",(function(){return s.processAll})),t.d(n,"toplevel",(function(){return s.toplevel}));var u=t("./src/basic/scheduler.ts");t.d(n,"Scheduler",(function(){return u.Scheduler})),t.d(n,"globalScheduler",(function(){return u.globalScheduler}))},"./src/basic/process.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"Process",(function(){return l})),t.d(n,"process",(function(){return p})),t.d(n,"processAll",(function(){return f})),t.d(n,"toplevel",(function(){return d}));var r,o=t("./src/basic/types.ts"),i=t("./src/basic/event.ts"),s=t("./src/basic/debug.ts"),u=t("./src/basic/scheduler.ts"),a=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),c=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e){function n(n,t){var r=e.call(this)||this;return r.pf=n,r.checkNew=t,r.state=[],r.triggerEmitter=new i.EventEmitter,r.onTrigger=r.triggerEmitter.event,r.value=r.run(),r}return a(n,e),n.prototype.run=function(){return this.pf(this.makeWorker())},n.prototype.makeWorker=function(){var e=this,n=0;return function(t){var r,o=n++;if(o>=e.state.length){var i=t();Object(s.registerHasRun)(i);var a=null===(r=i.onTrigger)||void 0===r?void 0:r.call(i,(function(){return u.globalScheduler.add((function(){var n,t,r,i,s;try{for(var u=c(e.state.splice(o+1).reverse()),a=u.next();!a.done;a=u.next()){var l=a.value;null===(r=l.handleD)||void 0===r||r.dispose(),null===(s=(i=l.cache).dispose)||void 0===s||s.call(i)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(n)throw n.error}}var p=e.run(),f=e.checkNew(e.value,p);e.value=p,f&&e.triggerEmitter.fire(e.value)}))}));e.state.push({cache:i,handleD:null!=a?a:null})}return e.state[o].cache.value}},n.prototype.dispose=function(){var e,n,t,r,o;try{for(var i=c(this.state),s=i.next();!s.done;s=i.next()){var u=s.value;null===(t=u.handleD)||void 0===t||t.dispose(),null===(o=(r=u.cache).dispose)||void 0===o||o.call(r)}}catch(n){e={error:n}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.triggerEmitter.dispose(),this.state.length=0},n}(o.SentinelExt);function p(e){return Object(s.ensureRun)(new l(e,(function(e,n){return e!==n})))}function f(e){return Object(s.ensureRun)(new l(e,(function(){return!0})))}function d(e){var n=e instanceof l?e:p(e);Object(s.registerHasRun)(n)}},"./src/basic/scheduler.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"Scheduler",(function(){return r})),t.d(n,"globalScheduler",(function(){return o}));var r=function(){function e(){this.pending=[],this.running=!1}return e.prototype.add=function(e){this.pending.push(e),this.begin()},e.prototype.begin=function(){if(!this.running)try{for(this.running=!0;this.pending.length;)this.pending.shift()()}finally{this.running=!1}},e}(),o=new r},"./src/basic/types.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"isSentinel",(function(){return u})),t.d(n,"SentinelExt",(function(){return a})),t.d(n,"PureSentinel",(function(){return c})),t.d(n,"pureS",(function(){return l})),t.d(n,"FuncSentinel",(function(){return p})),t.d(n,"SentinelFuncSentinel",(function(){return f}));var r,o=t("./src/basic/event.ts"),i=t("./src/basic/debug.ts"),s=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});function u(e){return"object"==typeof e&&null!==e&&"onTrigger"in e&&"value"in e}var a=function(){function e(){}return e.prototype.f=function(e){return l(Object(i.ensureRun)(new p(this,e)))},e.prototype.sf=function(e){return l(Object(i.ensureRun)(new f(this,e)))},e}(),c=function(e){function n(n){var t=e.call(this)||this;return t.value=n,t.onTrigger=Object(o.nullEvent)(),t}return s(n,e),n}(a);function l(e){return Object(i.ensureRun)(new c(e))}var p=function(e){function n(n,t){var r=e.call(this)||this;return r.wrapped=n,r.func=t,Object(i.registerHasRun)(n),r.value=t(n.value),r.triggerEmitter=new o.EventEmitter,r.onTrigger=r.triggerEmitter.event,r.listener=n.onTrigger((function(e){r.value=t(e),r.triggerEmitter.fire(t(e))})),r}return s(n,e),n.prototype.dispose=function(){var e,n;null===(n=null===(e=this.wrapped)||void 0===e?void 0:e.dispose)||void 0===n||n.call(e),this.listener.dispose(),this.triggerEmitter.dispose()},n}(a),f=function(e){function n(n,t){var r=e.call(this)||this;return r.wrapped=n,r.func=t,Object(i.registerHasRun)(n),r.current=t(n.value),r.value=r.current.value,r.triggerEmitter=new o.EventEmitter,r.onTrigger=r.triggerEmitter.event,Object(i.registerHasRun)(r.current),r.listener=r.current.onTrigger(r.handleNew.bind(r)),r.wrapped.onTrigger((function(e){r.listener.dispose(),r.current=t(e),Object(i.registerHasRun)(r.current),r.listener=r.current.onTrigger(r.handleNew.bind(r))})),r}return s(n,e),n.prototype.handleNew=function(e){this.value=e,this.triggerEmitter.fire(e)},n.prototype.dispose=function(){var e,n,t,r;null===(n=null===(e=this.wrapped)||void 0===e?void 0:e.dispose)||void 0===n||n.call(e),this.listener.dispose(),null===(r=null===(t=this.current)||void 0===t?void 0:t.dispose)||void 0===r||r.call(t),this.triggerEmitter.dispose()},n}(a)},"./src/dom/attribute.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"setAttributeD",(function(){return o}));var r=t("./src/basic/index.ts");function o(e,n,t){var o=e.getAttribute(n);return e.setAttribute(n,t),Object(r.ensureRun)({dispose:function(){o?e.setAttribute(n,o):e.removeAttribute(n)}})}},"./src/dom/element.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"generalElementMovementD",(function(){return o})),t.d(n,"appendChildD",(function(){return i}));var r=t("./src/basic/index.ts");function o(e,n){var t=e.parentNode,o=e.nextSibling;return n(),Object(r.ensureRun)({dispose:function(){t?t.insertBefore(t,o):e.parentNode.removeChild(e)}})}function i(e,n){return o(n,(function(){e.appendChild(n)}))}},"./src/dom/event.ts":function(e,n,t){"use strict";function r(e,n,t){return function(r,o,i){var s=function(e){return r.call(o,e)};return e.addEventListener(n,s,t),{dispose:function(){e.removeEventListener(n,s,t),null==i||i.forEach((function(e){return e.dispose()}))}}}}t.r(n),t.d(n,"domEvent",(function(){return r}))},"./src/dom/index.ts":function(e,n,t){"use strict";t.r(n);var r=t("./src/dom/element.ts");t.d(n,"generalElementMovementD",(function(){return r.generalElementMovementD})),t.d(n,"appendChildD",(function(){return r.appendChildD}));var o=t("./src/dom/event.ts");t.d(n,"domEvent",(function(){return o.domEvent}));var i=t("./src/dom/attribute.ts");t.d(n,"setAttributeD",(function(){return i.setAttributeD}));var s=t("./src/dom/jsx.ts");t.d(n,"kagomeElement",(function(){return s.kagomeElement})),t.d(n,"KagomeIntrinsic",(function(){return s.KagomeIntrinsic}))},"./src/dom/jsx.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"kagomeElement",(function(){return l})),t.d(n,"KagomeIntrinsic",(function(){return p}));var r,o=t("./src/basic/index.ts"),i=t("./src/reactive/index.ts"),s=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),u=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),s=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s},a=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(u(arguments[n]));return e},c=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};function l(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return"string"==typeof e?Object(o.ensureRun)(new p(e,n,t)):e.apply(void 0,a([null!=n?n:{}],t))}var p=function(e){function n(n,t,r){var i=e.call(this)||this;return i.type=n,i.props=t,i.children=r,i.listenersD=[],i.onTrigger=Object(o.nullEvent)(),i.propsSave={},i.value=document.createElement(n),i.childOffsets=Array(r.length+1),i.childOffsets[0]=0,i.populateProps(t),i.populateChildren(r),i}return s(n,e),n.prototype.populateProps=function(e){var n,t,r=this,i=function(e,n){Object(o.isSentinel)(n)?(f(s.value,e,n.value,s.propsSave),s.listenersD.push(n.onTrigger((function(n){f(r.value,e,n,r.propsSave)})))):f(s.value,e,n,s.propsSave)},s=this;try{for(var a=c(Object.entries(null!=e?e:{})),l=a.next();!l.done;l=a.next()){var p=u(l.value,2);i(p[0],p[1])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}},n.prototype.populateChildren=function(e){var n=document.createRange();n.setStart(this.value,0),n.setEnd(this.value,0);for(var t=0;t!=e.length;t++){var r=e[t];Object(i.isArraySentinel)(r)?this.genArraySentinel(n,t,r):Object(o.isSentinel)(r)?this.genSentinel(n,t,r):d(n,r),this.childOffsets[t+1]=n.endOffset,n.setStart(n.endContainer,n.endOffset)}},n.prototype.genSentinel=function(e,n,t){var r=this;d(e,t.value),Object(o.registerHasRun)(t),this.listenersD.push(t.onTrigger((function(e){var t=document.createRange();t.setStart(r.value,r.childOffsets[n]),t.setEnd(r.value,r.childOffsets[n+1]),d(t,e);var o=t.endOffset-r.childOffsets[n+1];if(0!==o)for(var i=n+1;i!=r.childOffsets.length;i++)r.childOffsets[i]+=o})))},n.prototype.genArraySentinel=function(e,n,t){var r=this,i=Array(t.value.length+1);i[0]=0;for(var s=e.cloneRange(),u=0;u!=t.value.length;u++){d(s,t.value[u]),i[u+1]=s.endOffset-e.startOffset,s.setStart(s.endContainer,s.endOffset)}Object(o.registerHasRun)(t),this.listenersD.push(t.onArrayChange((function(e){var t,o,s=r.childOffsets[n],u=function(e){var n=e.start,t=e.deleteCount,o=e.inserted,u=document.createRange();u.setStart(r.value,s+i[n]),u.setEnd(r.value,s+i[n+t]),u.deleteContents();for(var c=Array(o.length),l=0;l!=o.length;l++)d(u,o[l]),c[l]=u.endOffset-s;var p=u.endOffset-s-i[n+t];if(i.splice.apply(i,a([n+1,t],c)),0!==p)for(var f=n+o.length+1;f!=i.length;f++)i[f]+=p};try{for(var l=c(e),p=l.next();!p.done;p=l.next()){var f=p.value;"splice"===f.type?u(f):"update"===f.type&&u({start:f.index,deleteCount:0,inserted:[f.value]})}}catch(e){t={error:e}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}var h=i[i.length-1]-r.childOffsets[n+1];if(0!==h)for(var g=n+1;g!=r.childOffsets.length;g++)r.childOffsets[g]+=h})))},n.prototype.dispose=function(){var e,n;if(this.listenersD.forEach((function(e){return e.dispose()})),null!==this.props)for(var t in Object.values(this.props))Object(o.isSentinel)(t)&&(null===(e=t)||void 0===e||e.dispose());for(var r in this.children)Object(o.isSentinel)(r)&&(null===(n=r)||void 0===n||n.dispose())},n}(o.SentinelExt);function f(e,n,t,r){if(void 0===t){if(n in r){var o=r[n];n in e?e[n]=o:null===o?e.removeAttribute(n):e.setAttribute(n,o),delete r[n]}}else n in e?(n in r||(r[n]=e[n]),e[n]=t):(n in r||(r[n]=e.getAttribute(n)),e.setAttribute(n,t))}function d(e,n){if(e.deleteContents(),"boolean"==typeof n||null==n||""===n);else if(Array.isArray(n)){var t=document.createDocumentFragment();n.forEach((function(e){return t.append(e)})),e.insertNode(t)}else if("string"==typeof n||"number"==typeof n){var r=document.createTextNode(String(n));e.insertNode(r)}else e.insertNode(n)}},"./src/index.ts":function(e,n,t){"use strict";t.r(n);var r=t("./src/basic/index.ts");t.d(n,"debugConfig",(function(){return r.debugConfig})),t.d(n,"registerHasRun",(function(){return r.registerHasRun})),t.d(n,"ensureRun",(function(){return r.ensureRun})),t.d(n,"EventEmitter",(function(){return r.EventEmitter})),t.d(n,"nullEvent",(function(){return r.nullEvent})),t.d(n,"isSentinel",(function(){return r.isSentinel})),t.d(n,"SentinelExt",(function(){return r.SentinelExt})),t.d(n,"PureSentinel",(function(){return r.PureSentinel})),t.d(n,"pureS",(function(){return r.pureS})),t.d(n,"FuncSentinel",(function(){return r.FuncSentinel})),t.d(n,"SentinelFuncSentinel",(function(){return r.SentinelFuncSentinel})),t.d(n,"Process",(function(){return r.Process})),t.d(n,"process",(function(){return r.process})),t.d(n,"processAll",(function(){return r.processAll})),t.d(n,"toplevel",(function(){return r.toplevel})),t.d(n,"Scheduler",(function(){return r.Scheduler})),t.d(n,"globalScheduler",(function(){return r.globalScheduler}));var o=t("./src/dom/index.ts");t.d(n,"generalElementMovementD",(function(){return o.generalElementMovementD})),t.d(n,"appendChildD",(function(){return o.appendChildD})),t.d(n,"domEvent",(function(){return o.domEvent})),t.d(n,"setAttributeD",(function(){return o.setAttributeD})),t.d(n,"kagomeElement",(function(){return o.kagomeElement})),t.d(n,"KagomeIntrinsic",(function(){return o.KagomeIntrinsic}));var i=t("./src/reactive/index.ts");t.d(n,"ListeningSentinel",(function(){return i.ListeningSentinel})),t.d(n,"listenS",(function(){return i.listenS})),t.d(n,"Register",(function(){return i.Register})),t.d(n,"reg",(function(){return i.reg})),t.d(n,"isArraySentinel",(function(){return i.isArraySentinel})),t.d(n,"ArraySentinelExt",(function(){return i.ArraySentinelExt})),t.d(n,"ArrayRegister",(function(){return i.ArrayRegister})),t.d(n,"array",(function(){return i.array})),t.d(n,"FuncArraySentinel",(function(){return i.FuncArraySentinel})),t.d(n,"SentinelFuncArraySentinel",(function(){return i.SentinelFuncArraySentinel})),t.d(n,"Mapped",(function(){return i.Mapped})),t.d(n,"MappedArray",(function(){return i.MappedArray})),t.d(n,"mapped",(function(){return i.mapped}))},"./src/reactive/array.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"isArraySentinel",(function(){return c})),t.d(n,"ArraySentinelExt",(function(){return l})),t.d(n,"ArrayRegister",(function(){return p})),t.d(n,"array",(function(){return d})),t.d(n,"FuncArraySentinel",(function(){return h})),t.d(n,"SentinelFuncArraySentinel",(function(){return g}));var r,o=t("./src/reactive/register.ts"),i=t("./src/basic/index.ts"),s=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),u=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),s=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s},a=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(u(arguments[n]));return e};function c(e){return Object(i.isSentinel)(e)&&"onArrayChange"in e}var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.fa=function(e){return Object(i.pureS)(Object(i.ensureRun)(new h(this,e)))},n.prototype.sfa=function(e){return Object(i.pureS)(Object(i.ensureRun)(new g(this,e)))},n}(i.SentinelExt),p=function(e){function n(n){var t=e.call(this)||this;return t.wrapped=new o.Register(n),t.arrayChangeEmitter=new i.EventEmitter,t.onArrayChange=t.arrayChangeEmitter.event,t.changeCache=[],t}return s(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.wrapped.value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTrigger",{get:function(){return this.wrapped.onTrigger},enumerable:!0,configurable:!0}),n.prototype.notifyPatch=function(e){var n=this,t=0===this.changeCache.length;this.changeCache.push(e),t&&i.globalScheduler.add((function(){var e=n.changeCache;n.changeCache=[],n.arrayChangeEmitter.fire(e)}))},n.prototype.splice=function(e,n){for(var t,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=(t=this.value).splice.apply(t,a([e,n],r));return this.wrapped.setDirectly(this.value),this.notifyPatch({type:"splice",start:e,deleteCount:n,inserted:r}),i},n.prototype.setDirectly=function(e){var n=this.value.length;this.wrapped.setDirectly(e),this.notifyPatch({type:"splice",start:0,deleteCount:n,inserted:this.value})},n.prototype.getIndex=function(e){return this.value[e]},n.prototype.setIndex=function(e,n){this.value[e]=n,this.notifyPatch({type:"update",index:e,value:n})},Object.defineProperty(n.prototype,"length",{get:function(){return this.value.length},enumerable:!0,configurable:!0}),n.prototype.push=function(e){this.splice(this.length,0,e)},n.prototype.pop=function(){return this.length>0?this.splice(this.length,1)[0]:void 0},n.prototype.unshift=function(e){this.splice(0,0,e)},n.prototype.shift=function(){return this.length>0?this.splice(0,1)[0]:void 0},n.prototype.dispose=function(){this.wrapped.dispose(),this.arrayChangeEmitter.dispose()},n}(l),f={get:function(e,n,t){return"number"==typeof n?e.value[n]:Reflect.get(e,n,t)},set:function(e,n,t,r){return"number"==typeof n?(e.setIndex(n,t),!0):Reflect.set(e,n,t,r)}};function d(e){void 0===e&&(e=[]);var n=new p(e),t=new Proxy(n,f);return Object(i.ensureRun)(Object(i.pureS)(t))}var h=function(e){function n(n,t){var r=e.call(this)||this;return r.wrapped=n,r.func=t,Object(i.registerHasRun)(n),r.value=r.wrapped.value.map(t),r.arrayChangeEmitter=new i.EventEmitter,r.onArrayChange=r.arrayChangeEmitter.event,r.triggerEmitter=new i.EventEmitter,r.onTrigger=r.triggerEmitter.event,r.listener=r.wrapped.onArrayChange(r.handleChange.bind(r)),r}return s(n,e),n.prototype.handleChange=function(e){var n=this,t=e.map((function(e){var t;if("splice"===e.type){var r=e.inserted.map(n.func);return(t=n.value).splice.apply(t,a([e.start,e.deleteCount],r)),{type:"splice",start:e.start,deleteCount:e.deleteCount,inserted:r}}return"update"===e.type?(n.value[e.index]=n.func(e.value),{type:"update",index:e.index,value:n.value[e.index]}):e}));this.arrayChangeEmitter.fire(t),this.triggerEmitter.fire(this.value)},n.prototype.dispose=function(){var e,n;null===(n=null===(e=this.wrapped)||void 0===e?void 0:e.dispose)||void 0===n||n.call(e),this.arrayChangeEmitter.dispose(),this.triggerEmitter.dispose(),this.listener.dispose()},n}(l),g=function(e){function n(n,t){var r=e.call(this)||this;return r.wrapped=n,r.func=t,Object(i.registerHasRun)(n),r.current=r.wrapped.value.map(t),r.value=r.current.map((function(e){return e.value})),r.currentListeners=r.current.map(r.handleSentinel.bind(r)),r.arrayChangeEmitter=new i.EventEmitter,r.onArrayChange=r.arrayChangeEmitter.event,r.triggerEmitter=new i.EventEmitter,r.onTrigger=r.triggerEmitter.event,r.listener=r.wrapped.onArrayChange(r.handleChange.bind(r)),r}return s(n,e),n.prototype.handleChange=function(e){var n=this,t=e.map((function(e){var t,r,o,i,s;if("splice"===e.type){var u=e.inserted.map(n.func);(t=n.current).splice.apply(t,a([e.start,e.deleteCount],u)).forEach((function(e){var n;return null===(n=null==e?void 0:e.dispose)||void 0===n?void 0:n.call(e)}));var c=u.map((function(t,r){return n.handleSentinel(t,r+e.start)}));(r=n.currentListeners).splice.apply(r,a([e.start,e.deleteCount],c)).forEach((function(e){return e.dispose()}));var l=u.map((function(e){return e.value}));return(o=n.value).splice.apply(o,a([e.start,e.deleteCount],l)),{type:"splice",start:e.start,deleteCount:e.deleteCount,inserted:l}}if("update"===e.type){n.currentListeners[e.index].dispose(),null===(s=(i=n.current[e.index]).dispose)||void 0===s||s.call(i);var p=n.func(e.value);return n.current[e.index]=p,n.handleSentinel(p,e.index),n.value[e.index]=p.value,{type:"update",index:e.index,value:n.value[e.index]}}return e}));this.arrayChangeEmitter.fire(t),this.triggerEmitter.fire(this.value)},n.prototype.handleSentinel=function(e,n){var t=this;return Object(i.registerHasRun)(e),e.onTrigger((function(e){t.value[n]=e,t.triggerEmitter.fire(t.value)}))},n.prototype.dispose=function(){var e,n;null===(n=null===(e=this.wrapped)||void 0===e?void 0:e.dispose)||void 0===n||n.call(e),this.arrayChangeEmitter.dispose(),this.triggerEmitter.dispose(),this.listener.dispose(),this.current.forEach((function(e){var n;return null===(n=e.dispose)||void 0===n?void 0:n.call(e)})),this.currentListeners.forEach((function(e){return e.dispose()}))},n}(l)},"./src/reactive/event.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"ListeningSentinel",(function(){return s})),t.d(n,"listenS",(function(){return u}));var r,o=t("./src/basic/index.ts"),i=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),s=function(e){function n(n){var t=e.call(this)||this;return t.value=void 0,t.eventEmitter=new o.EventEmitter,t.onTrigger=t.eventEmitter.event,t.eventDisposable=n((function(e){t.value=e,t.eventEmitter.fire(e)})),t}return i(n,e),n.prototype.dispose=function(){this.eventDisposable.dispose(),this.eventEmitter.dispose()},n}(o.SentinelExt);function u(e){return Object(o.ensureRun)(new s(e))}},"./src/reactive/index.ts":function(e,n,t){"use strict";t.r(n);var r=t("./src/reactive/event.ts");t.d(n,"ListeningSentinel",(function(){return r.ListeningSentinel})),t.d(n,"listenS",(function(){return r.listenS}));var o=t("./src/reactive/register.ts");t.d(n,"Register",(function(){return o.Register})),t.d(n,"reg",(function(){return o.reg}));var i=t("./src/reactive/array.ts");t.d(n,"isArraySentinel",(function(){return i.isArraySentinel})),t.d(n,"ArraySentinelExt",(function(){return i.ArraySentinelExt})),t.d(n,"ArrayRegister",(function(){return i.ArrayRegister})),t.d(n,"array",(function(){return i.array})),t.d(n,"FuncArraySentinel",(function(){return i.FuncArraySentinel})),t.d(n,"SentinelFuncArraySentinel",(function(){return i.SentinelFuncArraySentinel}));var s=t("./src/reactive/map.ts");t.d(n,"Mapped",(function(){return s.Mapped})),t.d(n,"MappedArray",(function(){return s.MappedArray})),t.d(n,"mapped",(function(){return s.mapped}))},"./src/reactive/map.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"Mapped",(function(){return s})),t.d(n,"MappedArray",(function(){return u})),t.d(n,"mapped",(function(){return a}));var r,o=t("./src/basic/index.ts"),i=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),s=function(e){function n(n){var t=e.call(this)||this;t.map=n,t.triggerEmitter=new o.EventEmitter,t.onTrigger=t.triggerEmitter.event,t.listenersD=[],t.value=Array.isArray(n)?[]:{};var r=function(e){var n=i.map[e];Object(o.isSentinel)(n)?(i.value[e]=n.value,Object(o.registerHasRun)(n),i.listenersD.push(n.onTrigger((function(n){t.updateHook(e,n),o.globalScheduler.add((function(){t.value[e]=n,t.triggerEmitter.fire(t.value)}))})))):i.value[e]=n},i=this;for(var s in t.map)r(s);return t}return i(n,e),n.prototype.updateHook=function(e,n){},n.prototype.dispose=function(){var e;for(var n in this.listenersD.forEach((function(e){return e.dispose()})),this.map){var t=this.map[n];Object(o.isSentinel)(t)&&(null===(e=t)||void 0===e||e.dispose())}},n}(o.SentinelExt),u=function(e){function n(n){var t=e.call(this,n)||this;return t.arrayChangeEmitter=new o.EventEmitter,t.onArrayChange=t.arrayChangeEmitter.event,t}return i(n,e),n.prototype.updateHook=function(e,n){this.arrayChangeEmitter.fire([{type:"update",index:e,value:n}])},n}(s);function a(e){return Array.isArray(e)?new u(e):new s(e)}},"./src/reactive/register.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"Register",(function(){return u})),t.d(n,"reg",(function(){return a}));var r,o=t("./src/basic/index.ts"),i=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),s=0,u=function(e){function n(n){var t=e.call(this)||this;return t.value=n,t.triggerEmitter=new o.EventEmitter,t.onTrigger=t.triggerEmitter.event,t.num=s++,t.pending=!1,t}return i(n,e),n.prototype.setDirectly=function(e){var n=this;this.value=e,this.pending||(this.pending=!0,o.globalScheduler.add((function(){n.pending=!1,n.triggerEmitter.fire(n.value)})))},n.prototype.setD=function(e){var n=this,t=this.value;return this.setDirectly(e),Object(o.ensureRun)({dispose:function(){return n.setDirectly(t)}})},n.prototype.dispose=function(){this.triggerEmitter.dispose()},n}(o.SentinelExt);function a(e){return Object(o.ensureRun)(Object(o.pureS)(new u(e)))}}})}));